System.register(["../shared.min.js"],(function(e){"use strict";var t,r,n,o,i;return{setters:[function(e){t=e.f,r=e.a,n=e.b,o=e.A,i=e.t}],execute:function(){e({createMutable:function(e,t){const r=y(e||{});return j(r)},createStore:function(...[e,r]){const n=y(e||{}),o=Array.isArray(n);return[f(n),function(...e){t((()=>{o&&1===e.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=y(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const n=t[r];e[r]!==n&&O(e,r,n)}O(e,"length",n)}else w(e,t)}(n,e[0]):P(n,e)}))}]},modifyMutable:function(e,r){t((()=>r(y(e))))},produce:function(e){return t=>{if(u(t)){let r;(r=m.get(t))||m.set(t,r=new Proxy(t,D)),e(r)}return t}},reconcile:function(e,t={}){const{merge:r,key:n="id"}=t,o=y(e);return e=>{if(!u(e)||!u(o))return o;const t=_(o,{[v]:e},v,r,n);return void 0===t?e:t}},unwrap:y});const c=e("$RAW",Symbol("store-raw")),l=Symbol("store-node"),s=Symbol("store-name");function f(e,t){let n=e[r];if(!n&&(Object.defineProperty(e,r,{value:n=new Proxy(e,d)}),!Array.isArray(e))){const t=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=t.length;o<i;o++){const i=t[o];if(r[i].get){const t=r[i].get.bind(n);Object.defineProperty(e,i,{enumerable:r[i].enumerable,get:t})}}}return n}function u(e){let t;return null!=e&&"object"==typeof e&&(e[r]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function y(e,t=new Set){let r,n,o,i;if(r=null!=e&&e[c])return r;if(!u(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,i=e.length;r<i;r++)o=e[r],(n=y(o,t))!==o&&(e[r]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const r=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let l=0,s=r.length;l<s;l++)i=r[l],c[i].get||(o=e[i],(n=y(o,t))!==o&&(e[i]=n))}return e}function g(e){let t=e[l];return t||Object.defineProperty(e,l,{value:t={}}),t}function a(e,t,r){return e[t]||(e[t]=b(r))}function p(e){if(o()){const t=g(e);(t._||(t._=b()))()}}function h(e){return p(e),Reflect.ownKeys(e)}function b(e){const[t,r]=i(e,{equals:!1,internal:!0});return t.$=r,t}const d={get(e,t,i){if(t===c)return e;if(t===r)return i;if(t===n)return p(e),i;const s=g(e),y=s.hasOwnProperty(t);let h=y?s[t]():e[t];if(t===l||"__proto__"===t)return h;if(!y){const r=Object.getOwnPropertyDescriptor(e,t);!o()||"function"==typeof h&&!e.hasOwnProperty(t)||r&&r.get||(h=a(s,t,h)())}return u(h)?f(h):h},has(e,t){return t===c||t===r||t===n||t===l||"__proto__"===t||(this.get(e,t,e),t in e)},set:()=>!0,deleteProperty:()=>!0,ownKeys:h,getOwnPropertyDescriptor:function(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return n&&!n.get&&n.configurable&&t!==r&&t!==l&&t!==s?(delete n.value,delete n.writable,n.get=()=>e[r][t],n):n}};function O(e,t,r,n=!1){if(!n&&e[t]===r)return;const o=e[t],i=e.length;void 0===r?delete e[t]:e[t]=r;let c,l=g(e);(c=a(l,t,o))&&c.$((()=>r)),Array.isArray(e)&&e.length!==i&&(c=a(l,"length",i))&&c.$(e.length),(c=l._)&&c.$()}function w(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const o=r[n];O(e,o,t[o])}}function P(e,t,r=[]){let n,o=e;if(t.length>1){n=t.shift();const i=typeof n,c=Array.isArray(e);if(Array.isArray(n)){for(let o=0;o<n.length;o++)P(e,[n[o]].concat(t),r);return}if(c&&"function"===i){for(let o=0;o<e.length;o++)n(e[o],o)&&P(e,[o].concat(t),r);return}if(c&&"object"===i){const{from:o=0,to:i=e.length-1,by:c=1}=n;for(let n=o;n<=i;n+=c)P(e,[n].concat(t),r);return}if(t.length>1)return void P(e[n],t,[n].concat(r));o=e[n],r=[n].concat(r)}let i=t[0];"function"==typeof i&&(i=i(o,r),i===o)||void 0===n&&null==i||(i=y(i),void 0===n||u(o)&&u(i)&&!Array.isArray(i)?w(o,i):O(e,n,i))}const A={get(e,i,s){if(i===c)return e;if(i===r)return s;if(i===n)return p(e),s;const f=g(e),y=f.hasOwnProperty(i);let h=y?f[i]():e[i];if(i===l||"__proto__"===i)return h;if(!y){const r=Object.getOwnPropertyDescriptor(e,i),n="function"==typeof h;if(!o()||n&&!e.hasOwnProperty(i)||r&&r.get){if(null!=h&&n&&h===Array.prototype[i])return(...e)=>t((()=>Array.prototype[i].apply(s,e)))}else h=a(f,i,h)()}return u(h)?j(h):h},has(e,t){return t===c||t===r||t===n||t===l||"__proto__"===t||(this.get(e,t,e),t in e)},set:(e,r,n)=>(t((()=>O(e,r,y(n)))),!0),deleteProperty:(e,r)=>(t((()=>O(e,r,void 0,!0))),!0),ownKeys:h,getOwnPropertyDescriptor:function(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||n.set||!n.configurable||t===r||t===l||t===s||(delete n.value,delete n.writable,n.get=()=>e[r][t],n.set=n=>e[r][t]=n),n}};function j(e,n){let o=e[r];if(!o){Object.defineProperty(e,r,{value:o=new Proxy(e,A)});const n=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let r=0,c=n.length;r<c;r++){const c=n[r];if(i[c].get){const t=i[c].get.bind(o);Object.defineProperty(e,c,{get:t})}if(i[c].set){const r=i[c].set,n=e=>t((()=>r.call(o,e)));Object.defineProperty(e,c,{set:n})}}}return o}const v=Symbol("store-root");function _(e,t,r,n,o){const i=t[r];if(e===i)return;if(!u(e)||!u(i)||o&&e[o]!==i[o]){if(e!==i){if(r===v)return e;O(t,r,e)}return}if(Array.isArray(e)){if(e.length&&i.length&&(!n||o&&e[0]&&null!=e[0][o])){let t,r,c,l,s,f,u,y;for(c=0,l=Math.min(i.length,e.length);c<l&&(i[c]===e[c]||o&&i[c]&&e[c]&&i[c][o]===e[c][o]);c++)_(e[c],i,c,n,o);const g=new Array(e.length),a=new Map;for(l=i.length-1,s=e.length-1;l>=c&&s>=c&&(i[l]===e[s]||o&&i[c]&&e[c]&&i[l][o]===e[s][o]);l--,s--)g[s]=i[l];if(c>s||c>l){for(r=c;r<=s;r++)O(i,r,e[r]);for(;r<e.length;r++)O(i,r,g[r]),_(e[r],i,r,n,o);return void(i.length>e.length&&O(i,"length",e.length))}for(u=new Array(s+1),r=s;r>=c;r--)f=e[r],y=o&&f?f[o]:f,t=a.get(y),u[r]=void 0===t?-1:t,a.set(y,r);for(t=c;t<=l;t++)f=i[t],y=o&&f?f[o]:f,r=a.get(y),void 0!==r&&-1!==r&&(g[r]=i[t],r=u[r],a.set(y,r));for(r=c;r<e.length;r++)r in g?(O(i,r,g[r]),_(e[r],i,r,n,o)):O(i,r,e[r])}else for(let t=0,r=e.length;t<r;t++)_(e[t],i,t,n,o);return void(i.length>e.length&&O(i,"length",e.length))}const c=Object.keys(e);for(let t=0,r=c.length;t<r;t++)_(e[c[t]],i,c[t],n,o);const l=Object.keys(i);for(let t=0,r=l.length;t<r;t++)void 0===e[l[t]]&&O(i,l[t],void 0)}const m=new WeakMap,D={get(e,t){if(t===c)return e;const r=e[t];let n;return u(r)?m.get(r)||(m.set(r,n=new Proxy(r,D)),n):r},set:(e,t,r)=>(O(e,t,y(r)),!0),deleteProperty:(e,t)=>(O(e,t,void 0,!0),!0)};e("DEV",void 0)}}}));
